package curriculumdesign.cd3;

import java.util.Scanner;

public class MemoryManagement {

	public static void main(String[] args) {
		Tables table = new Tables(64);
		Scanner sc = new Scanner(System.in);
		Job job1;
		int com;
		String name;
		while (true) {
			try {
				System.out.println("0:退出,   1:申请内存,   2:回收内存");
				com = sc.nextInt();
				if (com == 0) {
					break;
				} else if (com == 1) {
					job1 = new Job();
					System.out.println("请输入job的名称 : ");
					job1.setName(sc.next());
					System.out.println("请输入job的大小 : ");
					job1.setSize(sc.nextInt());
					table.distributionJobNF(job1);
					table.showDistribution();
					table.showFree();
				} else if (com == 2) {
					System.out.println("请输入要删除job的名字 : ");
					name = sc.next();
					table.recoveryMemory(name);
					table.showDistribution();
					table.showFree();
				}else{
					System.out.println("命令出错......");
				}
			} catch (Exception e) {
				System.out.println("命令出错......");
				e.printStackTrace();
				break;
			}
		}
		System.out.println("退出程序成功......");
	}
}
